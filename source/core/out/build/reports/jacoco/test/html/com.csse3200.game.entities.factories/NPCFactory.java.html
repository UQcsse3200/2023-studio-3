<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>NPCFactory.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">core</a> &gt; <a href="index.source.html" class="el_package">com.csse3200.game.entities.factories</a> &gt; <span class="el_source">NPCFactory.java</span></div><h1>NPCFactory.java</h1><pre class="source lang-java linenums">package com.csse3200.game.entities.factories;

import com.badlogic.gdx.graphics.g2d.Animation;
import com.badlogic.gdx.graphics.g2d.TextureAtlas;
import com.badlogic.gdx.math.Vector2;
import com.csse3200.game.ai.tasks.AITaskComponent;
import com.csse3200.game.components.CombatStatsComponent;
import com.csse3200.game.components.TouchAttackComponent;
import com.csse3200.game.components.npc.DeflectingComponent;
import com.csse3200.game.components.npc.DodgingComponent;
import com.csse3200.game.components.npc.DragonKnightAnimationController;
import com.csse3200.game.components.npc.FireWormAnimationController;
import com.csse3200.game.components.npc.GhostAnimationController;
import com.csse3200.game.components.npc.SkeletonAnimationController;
import com.csse3200.game.components.npc.SplitMoblings;
import com.csse3200.game.components.npc.WaterQueenAnimationController;
import com.csse3200.game.components.npc.WaterSlimeAnimationController;
import com.csse3200.game.components.npc.WizardAnimationController;
import com.csse3200.game.components.npc.XenoAnimationController;
import com.csse3200.game.components.tasks.MobDodgeTask;
import com.csse3200.game.components.tasks.MobMeleeAttackTask;
import com.csse3200.game.components.tasks.MobRangedAttackTask;
import com.csse3200.game.components.tasks.MobWanderTask;
import com.csse3200.game.entities.Entity;
import com.csse3200.game.entities.Melee;
import com.csse3200.game.entities.PredefinedWeapons;
import com.csse3200.game.entities.configs.*;
import com.csse3200.game.files.FileLoader;
import com.csse3200.game.physics.PhysicsLayer;
import com.csse3200.game.physics.PhysicsUtils;
import com.csse3200.game.physics.components.ColliderComponent;
import com.csse3200.game.physics.components.HitboxComponent;
import com.csse3200.game.physics.components.PhysicsComponent;
import com.csse3200.game.physics.components.PhysicsMovementComponent;
import com.csse3200.game.rendering.AnimationRenderComponent;
import com.csse3200.game.rendering.TextureRenderComponent;
import com.csse3200.game.services.ServiceLocator;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Currency;

/**
 * Factory to create non-playable character (NPC) entities with predefined components.
 *
 * &lt;p&gt;Each NPC entity type should have a creation method that returns a corresponding entity.
 * Predefined entity properties can be loaded from configs stored as json files which are defined in
 * &quot;NPCConfigs&quot;.
 *
 * &lt;p&gt;If needed, this factory can be separated into more specific factories for entities with
 * similar characteristics.
 */
public class NPCFactory {
<span class="fc" id="L53">  private static final NPCConfigs configs =</span>
<span class="fc" id="L54">      FileLoader.readClass(NPCConfigs.class, &quot;configs/NPCs.json&quot;);</span>

  /**
   * Creates a ghost entity.
   *
   * @return entity
   */
  public static Entity createGhost() {
<span class="nc" id="L62">    Entity ghost = createMeleeBaseNPC();</span>
<span class="nc" id="L63">    BaseEntityConfig config = configs.ghost;</span>
    /**
    AnimationRenderComponent animator =
        new AnimationRenderComponent(
            ServiceLocator.getResourceService().getAsset(&quot;images/ghost.atlas&quot;, TextureAtlas.class));
    animator.addAnimation(&quot;angry_float&quot;, 0.1f, Animation.PlayMode.LOOP);
    animator.addAnimation(&quot;float&quot;, 0.1f, Animation.PlayMode.LOOP);
  **/
<span class="nc" id="L71">    ghost</span>
<span class="nc" id="L72">        .addComponent(new CombatStatsComponent(config.health, config.baseAttack))</span>
     //   .addComponent(animator)
<span class="nc" id="L74">             .addComponent(new TextureRenderComponent(&quot;images/mobs/satyr.png&quot;));</span>
     //   .addComponent(new GhostAnimationController());

<span class="nc" id="L77">    ghost.getComponent(TextureRenderComponent.class).scaleEntity();</span>

<span class="nc" id="L79">    return ghost;</span>
  }

  /**
   * Creates a ghost king entity.
   * 
   * @return entity
   */
  public static Entity createGhostKing() {
<span class="nc" id="L88">    Entity ghostKing = createMeleeBaseNPC();</span>
<span class="nc" id="L89">    GhostKingConfig config = configs.ghostKing;</span>

<span class="nc" id="L91">    AnimationRenderComponent animator =</span>
        new AnimationRenderComponent(
<span class="nc" id="L93">            ServiceLocator.getResourceService()</span>
<span class="nc" id="L94">                .getAsset(&quot;images/ghostKing.atlas&quot;, TextureAtlas.class));</span>
<span class="nc" id="L95">    animator.addAnimation(&quot;float&quot;, 0.2f, Animation.PlayMode.LOOP);</span>
<span class="nc" id="L96">    animator.addAnimation(&quot;angry_float&quot;, 0.2f, Animation.PlayMode.LOOP);</span>

<span class="nc" id="L98">    ghostKing</span>
<span class="nc" id="L99">        .addComponent(new CombatStatsComponent(config.health, config.baseAttack))</span>
<span class="nc" id="L100">        .addComponent(animator)</span>
<span class="nc" id="L101">        .addComponent(new GhostAnimationController());</span>

<span class="nc" id="L103">    ghostKing.getComponent(AnimationRenderComponent.class).scaleEntity();</span>
<span class="nc" id="L104">    return ghostKing;</span>
  }

  /**
   * Creates a fire worm entity.
   *
   * @return entity
   */
//  public static Entity createSkeleton(int health) {
//    Entity skeleton = createBaseNPC(int health);
  public static Entity createSkeleton(int health) {
<span class="fc" id="L115">    Entity skeleton = createMeleeBaseNPC();</span>
<span class="fc" id="L116">    BaseEnemyConfig config = configs.xenoGrunt;</span>
<span class="fc" id="L117">    ArrayList&lt;Melee&gt; melee = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.sword, PredefinedWeapons.kick));</span>
    // tester projectiles
<span class="fc" id="L119">    ArrayList&lt;ProjectileConfig&gt; projectiles = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.fireBall, PredefinedWeapons.frostBall));</span>
<span class="fc" id="L120">    ArrayList&lt;Currency&gt; drops = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L122">    AnimationRenderComponent animator =</span>
            new AnimationRenderComponent(
<span class="fc" id="L124">                    ServiceLocator.getResourceService().getAsset(&quot;images/mobs/skeleton.atlas&quot;, TextureAtlas.class));</span>
<span class="fc" id="L125">    animator.addAnimation(&quot;skeleton_walk&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L126">    animator.addAnimation(&quot;skeleton_attack&quot;, 0.1f);</span>
<span class="fc" id="L127">    animator.addAnimation(&quot;skeleton_death&quot;, 0.1f);</span>
<span class="fc" id="L128">    animator.addAnimation(&quot;default&quot;, 0.1f);</span>
<span class="fc" id="L129">    skeleton</span>
<span class="fc" id="L130">            .addComponent(new CombatStatsComponent(health, config.baseAttack, drops, melee, projectiles))</span>
//            .addComponent(new CombatStatsComponent(config.fullHeath, config.baseAttack, drops, melee, projectiles))
<span class="fc" id="L132">            .addComponent(animator)</span>
<span class="fc" id="L133">            .addComponent(new SkeletonAnimationController());</span>

<span class="fc" id="L135">    skeleton.getComponent(HitboxComponent.class).setAsBoxAligned(new Vector2(.3f, .5f), PhysicsComponent.AlignX.RIGHT, PhysicsComponent.AlignY.CENTER);</span>
<span class="fc" id="L136">    skeleton.getComponent(AnimationRenderComponent.class).scaleEntity();</span>

<span class="fc" id="L138">    return skeleton;</span>
  }

  /**
   * Creates a wizard entity.
   *
   * @return entity
   */
  public static Entity createWizard(int health) {
<span class="fc" id="L147">    Entity wizard = createRangedBaseNPC();</span>
<span class="fc" id="L148">    BaseEnemyConfig config = configs.xenoGrunt;</span>
<span class="fc" id="L149">    ArrayList&lt;Melee&gt; melee = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.sword, PredefinedWeapons.kick));</span>
    // tester projectiles
<span class="fc" id="L151">    ArrayList&lt;ProjectileConfig&gt; projectiles = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.fireBall, PredefinedWeapons.frostBall));</span>
<span class="fc" id="L152">    ArrayList&lt;Currency&gt; drops = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L154">    AnimationRenderComponent animator =</span>
            new AnimationRenderComponent(
<span class="fc" id="L156">                    ServiceLocator.getResourceService().getAsset(&quot;images/mobs/wizard.atlas&quot;, TextureAtlas.class));</span>
<span class="fc" id="L157">    animator.addAnimation(&quot;wizard_run&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L158">    animator.addAnimation(&quot;wizard_attack&quot;, 0.1f);</span>
<span class="fc" id="L159">    animator.addAnimation(&quot;wizard_death&quot;, 0.1f);</span>
<span class="fc" id="L160">    animator.addAnimation(&quot;default&quot;, 0.1f);</span>
<span class="fc" id="L161">    wizard</span>
<span class="fc" id="L162">            .addComponent(new CombatStatsComponent(health, config.baseAttack, drops, melee, projectiles))</span>
//            .addComponent(new CombatStatsComponent(config.fullHeath, config.baseAttack, drops, melee, projectiles))
<span class="fc" id="L164">            .addComponent(animator)</span>
<span class="fc" id="L165">            .addComponent(new WizardAnimationController());</span>

<span class="fc" id="L167">    wizard.getComponent(HitboxComponent.class).setAsBoxAligned(new Vector2(.3f, .5f), PhysicsComponent.AlignX.RIGHT, PhysicsComponent.AlignY.CENTER);</span>
<span class="fc" id="L168">    wizard.getComponent(AnimationRenderComponent.class).scaleEntity();</span>

<span class="fc" id="L170">    return wizard;</span>
  }
  /**
   * Creates a water queen entity.
   *
   * @return entity
   */
  public static Entity createWaterQueen(int health) {
<span class="fc" id="L178">    Entity wizard = createRangedBaseNPC();</span>
<span class="fc" id="L179">    BaseEnemyConfig config = configs.xenoGrunt;</span>
<span class="fc" id="L180">    ArrayList&lt;Melee&gt; melee = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.sword, PredefinedWeapons.kick));</span>
    // tester projectiles
<span class="fc" id="L182">    ArrayList&lt;ProjectileConfig&gt; projectiles = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.fireBall, PredefinedWeapons.frostBall));</span>
<span class="fc" id="L183">    ArrayList&lt;Currency&gt; drops = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L185">    AnimationRenderComponent animator =</span>
            new AnimationRenderComponent(
<span class="fc" id="L187">                    ServiceLocator.getResourceService().getAsset(&quot;images/mobs/water_queen.atlas&quot;, TextureAtlas.class));</span>
<span class="fc" id="L188">    animator.addAnimation(&quot;water_queen_walk&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L189">    animator.addAnimation(&quot;water_queen_attack&quot;, 0.1f);</span>
<span class="fc" id="L190">    animator.addAnimation(&quot;water_queen_death&quot;, 0.1f);</span>
<span class="fc" id="L191">    animator.addAnimation(&quot;default&quot;, 0.1f);</span>
<span class="fc" id="L192">    wizard</span>
<span class="fc" id="L193">            .addComponent(new CombatStatsComponent(health, config.baseAttack, drops, melee, projectiles))</span>
//            .addComponent(new CombatStatsComponent(config.fullHeath, config.baseAttack, drops, melee, projectiles))
<span class="fc" id="L195">            .addComponent(animator)</span>
<span class="fc" id="L196">            .addComponent(new WaterQueenAnimationController());</span>

<span class="fc" id="L198">    wizard.getComponent(HitboxComponent.class).setAsBoxAligned(new Vector2(.3f, .5f), PhysicsComponent.AlignX.RIGHT, PhysicsComponent.AlignY.CENTER);</span>
<span class="fc" id="L199">    wizard.getComponent(AnimationRenderComponent.class).scaleEntity();</span>

<span class="fc" id="L201">    return wizard;</span>
  }
  /**
   * Creates a water slime entity.
   *
   * @return entity
   */
  public static Entity createBaseWaterSlime(int health) {
<span class="fc" id="L209">    Entity waterSlime = createMeleeBaseNPC();</span>
<span class="fc" id="L210">    BaseEnemyConfig config = configs.xenoGrunt;</span>
<span class="fc" id="L211">    ArrayList&lt;Melee&gt; melee = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.sword, PredefinedWeapons.kick));</span>
    // tester projectiles
<span class="fc" id="L213">    ArrayList&lt;ProjectileConfig&gt; projectiles = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.fireBall, PredefinedWeapons.frostBall));</span>
<span class="fc" id="L214">    ArrayList&lt;Currency&gt; drops = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L216">    AnimationRenderComponent animator =</span>
            new AnimationRenderComponent(
<span class="fc" id="L218">                    ServiceLocator.getResourceService().getAsset(&quot;images/mobs/water_slime.atlas&quot;, TextureAtlas.class));</span>
<span class="fc" id="L219">    animator.addAnimation(&quot;water_slime_walk&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L220">    animator.addAnimation(&quot;water_slime_attack&quot;, 0.1f);</span>
<span class="fc" id="L221">    animator.addAnimation(&quot;water_slime_death&quot;, 0.2f);</span>
<span class="fc" id="L222">    animator.addAnimation(&quot;default&quot;, 0.1f);</span>
<span class="fc" id="L223">    waterSlime</span>
<span class="fc" id="L224">            .addComponent(new CombatStatsComponent(health, config.baseAttack, drops, melee, projectiles))</span>
//            .addComponent(new CombatStatsComponent(config.fullHeath, config.baseAttack, drops, melee, projectiles))
<span class="fc" id="L226">            .addComponent(animator)</span>
<span class="fc" id="L227">            .addComponent(new WaterSlimeAnimationController());</span>

<span class="fc" id="L229">    waterSlime.getComponent(HitboxComponent.class).setAsBoxAligned(new Vector2(.3f, .5f), PhysicsComponent.AlignX.RIGHT, PhysicsComponent.AlignY.CENTER);</span>
<span class="fc" id="L230">    waterSlime.getComponent(AnimationRenderComponent.class).scaleEntity();</span>

<span class="fc" id="L232">    return waterSlime;</span>
  }
  /**
   * Creates a fire worm entity.
   *
   * @return entity
   */
  public static Entity createFireWorm(int health) {
<span class="fc" id="L240">    Entity fireWorm = createRangedBaseNPC();</span>
<span class="fc" id="L241">    BaseEnemyConfig config = configs.xenoGrunt;</span>
<span class="fc" id="L242">    ArrayList&lt;Melee&gt; melee = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.sword, PredefinedWeapons.kick));</span>
    // tester projectiles
<span class="fc" id="L244">    ArrayList&lt;ProjectileConfig&gt; projectiles = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.fireBall, PredefinedWeapons.frostBall));</span>
<span class="fc" id="L245">    ArrayList&lt;Currency&gt; drops = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L247">    AnimationRenderComponent animator =</span>
            new AnimationRenderComponent(
<span class="fc" id="L249">                    ServiceLocator.getResourceService().getAsset(&quot;images/mobs/fire_worm.atlas&quot;, TextureAtlas.class));</span>
<span class="fc" id="L250">    animator.addAnimation(&quot;fire_worm_walk&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L251">    animator.addAnimation(&quot;fire_worm_attack&quot;, 0.1f);</span>
<span class="fc" id="L252">    animator.addAnimation(&quot;fire_worm_death&quot;, 0.1f);</span>
<span class="fc" id="L253">    animator.addAnimation(&quot;default&quot;, 0.1f);</span>
<span class="fc" id="L254">    fireWorm</span>
<span class="fc" id="L255">            .addComponent(new CombatStatsComponent(health, config.baseAttack, drops, melee, projectiles))</span>
//            .addComponent(new CombatStatsComponent(config.fullHeath, config.baseAttack, drops, melee, projectiles))
<span class="fc" id="L257">            .addComponent(animator)</span>
<span class="fc" id="L258">            .addComponent(new FireWormAnimationController());</span>

<span class="fc" id="L260">    fireWorm.getComponent(HitboxComponent.class).setAsBoxAligned(new Vector2(.3f, .5f), PhysicsComponent.AlignX.RIGHT, PhysicsComponent.AlignY.CENTER);</span>
<span class="fc" id="L261">    fireWorm.getComponent(AnimationRenderComponent.class).scaleEntity();</span>

<span class="fc" id="L263">    return fireWorm;</span>
  }
  /**
   * Creates a dragon Knight entity
   *
   * @return entity
   */
  public static Entity createDragonKnight(int health) {
<span class="fc" id="L271">    Entity dragonKnight = createMeleeBaseNPC();</span>
<span class="fc" id="L272">    BaseEnemyConfig config = configs.xenoGrunt;</span>
<span class="fc" id="L273">    ArrayList&lt;Melee&gt; melee = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.sword, PredefinedWeapons.kick));</span>
    // tester projectiles
<span class="fc" id="L275">    ArrayList&lt;ProjectileConfig&gt; projectiles = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.fireBall, PredefinedWeapons.frostBall));</span>
<span class="fc" id="L276">    ArrayList&lt;Currency&gt; drops = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L278">    AnimationRenderComponent animator =</span>
            new AnimationRenderComponent(
<span class="fc" id="L280">                    ServiceLocator.getResourceService().getAsset(&quot;images/mobs/dragon_knight.atlas&quot;, TextureAtlas.class));</span>
<span class="fc" id="L281">    animator.addAnimation(&quot;dragon_knight_run&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L282">    animator.addAnimation(&quot;dragon_knight_attack&quot;, 0.1f);</span>
<span class="fc" id="L283">    animator.addAnimation(&quot;dragon_knight_death&quot;, 0.1f);</span>
<span class="fc" id="L284">    animator.addAnimation(&quot;default&quot;, 0.1f);</span>
<span class="fc" id="L285">    dragonKnight</span>
<span class="fc" id="L286">            .addComponent(new CombatStatsComponent(health, config.baseAttack, drops, melee, projectiles))</span>
<span class="fc" id="L287">            .addComponent(animator)</span>
<span class="fc" id="L288">            .addComponent(new DragonKnightAnimationController());</span>

<span class="fc" id="L290">    dragonKnight.getComponent(HitboxComponent.class).setAsBoxAligned(new Vector2(.3f, .5f), PhysicsComponent.AlignX.RIGHT, PhysicsComponent.AlignY.BOTTOM);</span>
<span class="fc" id="L291">    dragonKnight.getComponent(AnimationRenderComponent.class).scaleEntity();</span>

<span class="fc" id="L293">    return dragonKnight;</span>
  }


  /**
   * Creates a xeno grunt entity.
   *
   * @return entity
   */
  public static Entity createXenoGrunt(int health) {
<span class="fc" id="L303">    Entity xenoGrunt = createMeleeBaseNPC();</span>
<span class="fc" id="L304">    BaseEnemyConfig config = configs.xenoGrunt;</span>
<span class="fc" id="L305">    ArrayList&lt;Melee&gt; melee = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.sword, PredefinedWeapons.kick));</span>
    // tester projectiles
<span class="fc" id="L307">    ArrayList&lt;ProjectileConfig&gt; projectiles = new ArrayList&lt;&gt;(Arrays.asList(PredefinedWeapons.fireBall, PredefinedWeapons.frostBall));</span>
<span class="fc" id="L308">    ArrayList&lt;Currency&gt; drops = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L310">    AnimationRenderComponent animator =</span>
            new AnimationRenderComponent(
<span class="fc" id="L312">                    ServiceLocator.getResourceService().getAsset(&quot;images/mobs/xenoGrunt.atlas&quot;, TextureAtlas.class));</span>
<span class="fc" id="L313">    animator.addAnimation(&quot;xeno_run&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L314">    animator.addAnimation(&quot;xeno_hurt&quot;, 0.1f, Animation.PlayMode.LOOP);</span>
<span class="fc" id="L315">    animator.addAnimation(&quot;xeno_shoot&quot;, 0.1f);</span>
<span class="fc" id="L316">    animator.addAnimation(&quot;xeno_melee_1&quot;, 0.1f);</span>
<span class="fc" id="L317">    animator.addAnimation(&quot;xeno_melee_2&quot;, 0.1f);</span>
<span class="fc" id="L318">    animator.addAnimation(&quot;xeno_die&quot;, 0.1f);</span>
<span class="fc" id="L319">    animator.addAnimation(&quot;default&quot;, 0.1f);</span>
<span class="fc" id="L320">    xenoGrunt</span>
<span class="fc" id="L321">            .addComponent(new CombatStatsComponent(health, config.baseAttack, drops, melee, projectiles))</span>
//            .addComponent(new CombatStatsComponent(config.fullHeath, config.baseAttack, drops, melee, projectiles))
<span class="fc" id="L323">            .addComponent(animator)</span>
<span class="fc" id="L324">            .addComponent(new XenoAnimationController());</span>

<span class="fc" id="L326">    xenoGrunt.getComponent(HitboxComponent.class).setAsBoxAligned(new Vector2(.3f, .5f), PhysicsComponent.AlignX.RIGHT, PhysicsComponent.AlignY.BOTTOM);</span>
<span class="fc" id="L327">    xenoGrunt.getComponent(AnimationRenderComponent.class).scaleEntity();</span>

<span class="fc" id="L329">    return xenoGrunt;</span>
  }

  /**
   * Creates a generic NPC to be used as a base entity by more specific NPC creation methods.
   *
   * @return entity
   */
  public static Entity createMeleeBaseNPC() {
<span class="fc" id="L338">    AITaskComponent aiComponent =</span>
        new AITaskComponent()
<span class="fc" id="L340">            .addTask(new MobWanderTask(new Vector2(2f, 2f), 2f))</span>
<span class="fc" id="L341">            .addTask(new MobMeleeAttackTask(2, 2f));</span>
        //     .addTask(new MobAttackTask(2, 2f));
        // .addTask(new MeleeMobTask(new Vector2(2f, 2f), 2f));

            // .addTask(new MobAttackTask(2, 40));
<span class="fc" id="L346">    Entity npc =</span>
        new Entity()
<span class="fc" id="L348">            .addComponent(new PhysicsComponent())</span>
<span class="fc" id="L349">            .addComponent(new PhysicsMovementComponent())</span>
<span class="fc" id="L350">            .addComponent(new ColliderComponent())</span>
<span class="fc" id="L351">            .addComponent(new HitboxComponent().setLayer(PhysicsLayer.XENO))</span>
<span class="fc" id="L352">            .addComponent(new TouchAttackComponent(PhysicsLayer.HUMANS))</span>
<span class="fc" id="L353">            .addComponent(aiComponent);</span>
<span class="fc" id="L354">    PhysicsUtils.setScaledCollider(npc, 0.3f, 0.5f);</span>
<span class="fc" id="L355">    return npc;</span>
  }
  /**
   * Creates a generic NPC to be used as a base entity by more specific NPC creation methods.
   *
   * @return entity
   */
  public static Entity createRangedBaseNPC() {
<span class="fc" id="L363">    AITaskComponent aiComponent =</span>
        new AITaskComponent()
<span class="fc" id="L365">            .addTask(new MobWanderTask(new Vector2(2f, 2f), 2f))</span>
        //     .addTask(new MobAttackTask(2, 2f));
<span class="fc" id="L367">            .addTask(new MobRangedAttackTask(2, 2f));</span>
        // .addTask(new MeleeMobTask(new Vector2(2f, 2f), 2f));

            // .addTask(new MobAttackTask(2, 40));
<span class="fc" id="L371">    Entity npc =</span>
        new Entity()
<span class="fc" id="L373">            .addComponent(new PhysicsComponent())</span>
<span class="fc" id="L374">            .addComponent(new PhysicsMovementComponent())</span>
<span class="fc" id="L375">            .addComponent(new ColliderComponent())</span>
<span class="fc" id="L376">            .addComponent(new HitboxComponent().setLayer(PhysicsLayer.XENO))</span>
<span class="fc" id="L377">            .addComponent(new TouchAttackComponent(PhysicsLayer.HUMANS))</span>
<span class="fc" id="L378">            .addComponent(aiComponent);</span>
<span class="fc" id="L379">    PhysicsUtils.setScaledCollider(npc, 0.3f, 0.5f);</span>
<span class="fc" id="L380">    return npc;</span>
  }

<span class="nc" id="L383">  private NPCFactory() {</span>
<span class="nc" id="L384">    throw new IllegalStateException(&quot;Instantiating static util class&quot;);</span>
  }

  // * COW'S TESTING ARENA DONT TOUCH
  public static Entity createSplittingXenoGrunt(int health) {
<span class="nc" id="L389">    Entity splitXenoGrunt = createXenoGrunt(health)</span>
        // add the scaling yourself. can also scale the X and Y component,
        // leading to some very interesting mob designs.
<span class="nc" id="L392">        .addComponent(new SplitMoblings(7, 0.5f))</span>
<span class="nc" id="L393">        .addComponent(new DodgingComponent(PhysicsLayer.PROJECTILE, 0.25f));</span>

    // * TEMPORARY TESTING FOR PROJECTILE DODGING
<span class="nc" id="L396">    splitXenoGrunt.getComponent(AITaskComponent.class).addTask(new MobDodgeTask(new Vector2(2f, 2f), 2f, 5));</span>
<span class="nc" id="L397">    return splitXenoGrunt;</span>
  }

  /**
   * Create Splitting water slime 
   * 
   * @return
   */
  public static Entity createSplittingWaterSlime(int health) {
<span class="fc" id="L406">    Entity splitWaterSlime = createBaseWaterSlime(health)</span>

<span class="fc" id="L408">        .addComponent(new SplitMoblings(7, 0.5f));</span>
        
<span class="fc" id="L410">    return splitWaterSlime;</span>
  }

  /**
   * Create a dodging Dragon Knight
   * 
   * @return
   */
  public static Entity createDodgingDragonKnight(int health) {
<span class="fc" id="L419">    Entity fireWorm = createDragonKnight(health);</span>

<span class="fc" id="L421">    fireWorm.addComponent(new DodgingComponent(PhysicsLayer.PROJECTILE, 0.25f));</span>
<span class="fc" id="L422">   fireWorm.getComponent(AITaskComponent.class).addTask(new MobDodgeTask(new Vector2(2f, 2f), 2f, 5));</span>

<span class="fc" id="L424">    return fireWorm;</span>
  }

//  public static Entity createDeflectXenoGrunt(int health) {
//    Entity deflectXenoGrunt = createXenoGrunt(health);
//    deflectXenoGrunt.addComponent(new DeflectingComponent(
  /**
   * Creates a wizard that can deflect bullets
   * @return
   */
  public static Entity createDeflectWizard(int health) {
<span class="fc" id="L435">    Entity deflectWizard = createWizard(health);</span>
<span class="fc" id="L436">    deflectWizard.addComponent(new DeflectingComponent(</span>
        PhysicsLayer.PROJECTILE, PhysicsLayer.TOWER, 10));

<span class="fc" id="L439">    return deflectWizard;</span>
  }
}


</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>